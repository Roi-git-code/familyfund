


<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Online Member Application (OMA) - Family Fund</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/flash.css">

  <style>
    :root {
      --primary-purple: #8B5FBF;
      --light-purple: #9D7FCC;
      --gradient-purple: linear-gradient(135deg, #8B5FBF 0%, #6A4C93 100%);
      --light-gradient: linear-gradient(135deg, #f8f4ff 0%, #e8e2ff 100%);
    }
    
    .bg-purple-gradient {
      background: var(--gradient-purple);
    }
    
    .bg-light-purple {
      background: var(--light-gradient);
    }
    
    .success {
      color: green;
      font-weight: bold;
    }

    .error {
      color: red;
      font-weight: bold;
    }
    
    .nav-tabs .nav-link.active {
      background: var(--gradient-purple);
      border-color: var(--primary-purple);
      color: white;
    }
    
    .nav-tabs .nav-link {
      color: var(--primary-purple);
    }
  </style>
</head>
<body class="bg-light-purple">

  <!-- Header -->
  <%- include('partials/oma-header', { omaUser: omaUser }) %>

  <div class="d-flex flex-column flex-lg-row min-vh-100">

    <!-- Sidebar for large screens -->
    <div class="d-none d-lg-block">
      <%- include('partials/oma-sidebar', { active: 'auth', omaUser: omaUser, user: user }) %>
    </div>

    <!-- Main Content -->
    <div class="flex-grow-1 p-3 p-md-4 d-flex align-items-center justify-content-center">
      <div class="card shadow-lg rounded-3 border-0 w-100" style="max-width: 500px;">
        <div class="card-header bg-purple-gradient text-white text-center">
          <h4 class="mb-0">Online Member Application (OMA)</h4>
        </div>
        <div class="card-body bg-white p-3 p-md-4">

          <!-- Backend feedback -->
         <%- include('partials/flash') %>

          <!-- Tabs -->
          <ul class="nav nav-tabs nav-justified mb-3" id="authTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#loginPane" type="button" role="tab">
                <i class="fas fa-sign-in-alt me-1 d-none d-sm-inline"></i>Login
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signupPane" type="button" role="tab">
                <i class="fas fa-user-plus me-1 d-none d-sm-inline"></i>Signup
              </button>
            </li>
          </ul>

          <div class="tab-content" id="authTabsContent">
            <!-- Login Form -->
            <div class="tab-pane fade show active" id="loginPane" role="tabpanel">
              <form method="POST" action="/oma/login">
                <div class="mb-3">
                  <label for="loginPhone" class="form-label">Phone Number</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                    <input type="text" class="form-control" id="loginPhone" name="phone" placeholder="Enter your phone number" required>
                  </div>
                </div>
                <div class="mb-3">
                  <label for="loginPassword" class="form-label">Password</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                    <input type="password" class="form-control" id="loginPassword" name="password" placeholder="Enter your password" required>
                  </div>
                </div>
                <button type="submit" class="btn btn-purple-gradient text-white w-100 py-2">
                  <i class="fas fa-sign-in-alt me-2"></i>Login
                </button>
              </form>
            </div>

            <!-- Signup Form -->
            <div class="tab-pane fade" id="signupPane" role="tabpanel">
              <form id="signupForm" method="POST" action="/oma/signup">
                <div class="row">
                  <div class="col-12 col-sm-6 mb-3">
                    <label for="signupFirstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="signupFirstName" name="first_name" required>
                  </div>
                  <div class="col-12 col-sm-6 mb-3">
                    <label for="signupSurName" class="form-label">Surname</label>
                    <input type="text" class="form-control" id="signupSurName" name="sur_name" required>
                  </div>
                </div>
                
                <div class="mb-3">
                  <label for="signupMiddleName" class="form-label">Middle Name (Optional)</label>
                  <input type="text" class="form-control" id="signupMiddleName" name="middle_name">
                </div>
                
                <div class="mb-3">
                  <label for="signupPhone" class="form-label">Phone Number</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                    <input type="text" class="form-control" id="signupPhone" name="phone" required>
                  </div>
                </div>
                
                <div class="mb-3">
                  <label for="signupEmail" class="form-label">Email (Optional)</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                    <input type="email" class="form-control" id="signupEmail" name="email">
                  </div>
                </div>
                
                <div class="mb-3">
                  <label for="signupPassword" class="form-label">Password</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                    <input type="password" class="form-control" id="signupPassword" name="password" required>
                  </div>
                  <div class="form-text">Password must be at least 6 characters long</div>
                </div>
                
                <div class="mb-3">
                  <label for="signupConfirmPassword" class="form-label">Confirm Password</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                    <input type="password" class="form-control" id="signupConfirmPassword" name="confirmPassword" required>
                  </div>
                </div>
                
                <button type="submit" class="btn btn-success w-100 py-2">
                  <i class="fas fa-user-plus me-2"></i>Create Account
                </button>
              </form>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>

  <!-- Footer -->
  <%- include('partials/oma-footer') %>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/script/oma-validation.js"></script>
    <script src="/js/flash.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const style = document.createElement('style');
      style.textContent = `
        .btn-purple-gradient {
          background: var(--gradient-purple);
          border: none;
        }
        .btn-purple-gradient:hover {
          background: var(--primary-purple);
        }
      `;
      document.head.appendChild(style);
    });
  </script>
</body>
</html>


